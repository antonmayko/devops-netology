# Домашнее задание к занятию "Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения"


## Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.
 
Полная виртуализация - Хостовая ОС отсутствует, гипервизор работает с ресурсами сервера напрямую, заменяя хостовую ОС. Гостевые ОС могут быть любыми.

Паравиртуализация - Есть хостовая ОС. В ней работает гипервизор, ресурсы которому выделяет эта ОС.
Гостевые ОС могут быть любыми.

Виртуализация на основе ОС - ВМ (они же контейнеры) не являются полноценными гостевыми ОС. 
При такой виртуализации монтируются устройства хостовой ОС. 
Контейнеры используют ядро хостовой ОС и, как следствие, ОС в контейнере такая же, как и хостовая ОС.


## Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Физические серверы:

- высоконагруженная база данных, чувствительная к отказу;
- системы, выполняющие высокопроизводительные расчёты на GPU.

По моему мнению, отсутствие прослойки в виде гипервизора пойдет высоконагруженным системам только на пользу.

Паравиртуализация:

- Windows-системы для использования бухгалтерским отделом;

Бухгалтеры могут использовать разные ОС, поэтому больше подходит паравиртуализация.
Также это хорошая замена физических ПК: в ВМ полноценная ОС. Плюс более выгодная утилизация ресурсов на 
сервере и гипервизором.
 
Виртуализация уровня ОС:

- различные web-приложения

Удобнее запускать в контейнерах, т.к. для их работы не нужна полноценная ОС. Достаточно ядра линукс и вебсервера Апач.


## Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.


### Сценарий 1:

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. 
Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, 
репликации данных и автоматизированного механизма создания резервных копий.  

Ответ: Гипервизор Hyper-V соответствует вышеперечисленным требованиям.


### Сценарий 2:

Требуется наиболее производительное бесплатное open source-решение для виртуализации 
небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.

Ответ: Гипервизор Xen подойдет для данной задачи.


### Сценарий 3:

Необходимо бесплатное, максимально совместимое и производительное решение для 
виртуализации Windows-инфраструктуры.

Ответ: Гипервизор Xen.

Стабильный, надежный, бесплатный.


### Сценарий 4:

Необходимо рабочее окружение для тестирования программного продукта на нескольких 
дистрибутивах Linux.

Ответ: Гипервизор Виртуалбокс. 

Простой и понятный гипервизор с низким порогом технических компетенций. 


## Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Поскольку данный материал в лекции отсутствует, и никаких ссылок на доп. материалы не было,
 опишу собственное понимание.

У полной виртуализации отсутствует хостовая ОС, т.к. гипервизор сам есть эта ОС. И, как следствие,
мы не намиксуем параллельно других гипервизоров. Полную виртуализацию отбрасываем.

Остается то, что одновременно на одном сервере можно использовать только паравиртуализацию (гипервизоры, установленные 
в хостовой ОС) и виртуализацию уровня ОС (контейнеры).

Проблема: Для стабильной работы гостевых ОС (или виртуальных машин), подконтрольных гипервизорам, нужно жёстко
разделить ресурсы сервера между последними.

Отсюда недостаток: Общая утилизация физических серверных ресурсов будет менее эффективная, т.к. между гипервизорами
будет жесткое деление, а в гостевых ОС каждого гипервизора будет динамическое деление ресурсов (хотя и в гостевых ОС это задается жестко и тогда проблема утилизации усугубляется). 

Проблема: Возможная "борьба" между гипервизорами за устройства сервера. Решение конфликтов доступа может быть непростым.

Мысли по минимизации проблем: Нужно тщательное планирование при подобном использовании сервера. Чтобы 
виртуальные машины занимались задачами, минимизирующими борьбу за ресурсы или устройства сервера.

Я бы не стал создавать гетерогенную среду. Потому что несколько шеф-поваров в одном ресторане не 
лучший выбор.

Примеров привести не могу, т.к. это вводное занятие и мы толком еще ничего не изучили и не приобрели
практичееский опыт.